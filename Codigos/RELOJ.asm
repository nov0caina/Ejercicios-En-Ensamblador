.MODEL SMALL

.DATA 


CADENA DB 9 DUP (' '),'$'
RESIDUO DB ?
AUX DB ?
HDEC DB ?
HUNI DB ?
MDEC DB ?
MUNI DB ?
SDEC DB ?
SUNI DB ?

.STACK 100H 

.CODE 

INICIO:

MOV AX, @DATA
MOV DS, AX
MOV AL, 3 
MOV AH, 0
INT 10H

CAPTURA:

MOV AH, 2CH 
INT 21H

CALL RELOJ

MOV AH, 2
MOV DL, 35 
MOV DH, 10 
INT 10H

MOV AH, 02H
MOV DL, HDEC
INT 21H
MOV DL, HUNI
INT 21H

MOV AH, 02H
MOV DL, 58
INT 21H

MOV AH, 2
MOV DL, 38 
MOV DH, 10 
INT 10H

MOV AH, 02H
MOV DL, MDEC
INT 21H
MOV DL, MUNI
INT 21H

MOV AH, 02H
MOV DL, 58
INT 21H

MOV AH, 2
MOV DL, 41
MOV DH, 10 
INT 10H

MOV AH, 02H
MOV DL, SDEC
INT 21H
MOV DL, SUNI
INT 21H

MOV AH, 1 
INT 16H
JZ CAPTURA 

MOV AX, 4CH 
INT 21H

RELOJ PROC 

CALL HORAS 
CALL MINUTOS
CALL SEGUNDOS

RET 

ENDP 

HORAS PROC 

MOV AL, CH 
AAM 

ADD AX, 3030H 

MOV HDEC, AH
MOV HUNI, AL

RET 

ENDP 

MINUTOS PROC 

MOV AL, CL 
AAM 

ADD AX, 3030H

MOV MDEC, AH
MOV MUNI, AL

RET 

ENDP 

SEGUNDOS PROC 

MOV AL, DH 
AAM 

ADD AX, 3030H 

MOV SDEC, AH
MOV SUNI, AL

RET 

ENDP 

END INICIO 